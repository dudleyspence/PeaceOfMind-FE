import { useState, useEffect } from "react";
import { useParams } from "react-router-dom";
import { getPatientByPatientId } from "../../../axios/patient.axios";
import { getTasksForSpecificDay } from "../../../axios/task.axios";
import ProgressTab from "../PatientTabs/PatientProgressTab";
import PatientComments from "../DayView/PatientComments";

export default function GuardianDayReview() {
  const [patient, setPatient] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [tasks, setTasks] = useState([]);
  const [completionPercentage, setCompletionPercentage] = useState(0);
  const [carer, setCarer] = useState(() => {
    if (patient) {
      return patient.carers[0];
    } else {
      setIsLoading(true);
      return null;
    }
  });
  const { patient_id, isoDate } = useParams();

  const sortedTasks = {
    Meals: [],
    Hygiene: [],
    Medical: [],
    Exercise: [],
    Additional: [],
    "Day Specific": [],
  };

  const intervalColors = {
    Daily: "bg-blue-200",
    Weekly: "bg-green-200",
    Biweekly: "bg-red-200",
    Monthly: "bg-purple-200",
    None: "bg-white text-bold",
  };

  useEffect(() => {
    setIsLoading(true);
    getPatientByPatientId(patient_id).then((patient) => {
      setPatient(patient);
      setCarer(patient.carers[0]);
      getTasksForSpecificDay(patient_id, isoDate).then((tasks) => {
        setIsLoading(false);

        tasks.forEach((task) => {
          if (!task.template.category) {
            task.template.category = "Day Specific";
            const date = new Date(task.scheduleDate);
            task.time = date.toLocaleTimeString("en-GB", {
              hour: "numeric",
              minute: "2-digit",
              hour12: true,
            });
          }
          sortedTasks[task.template.category].push(task);
        });
        const totalTasks = tasks.length;
        const completed = tasks.filter((task) => task.isCompleted).length;
        const completePercentage =
          (completed / totalTasks) * 100 ? (completed / totalTasks) * 100 : 0;
        setCompletionPercentage(completePercentage);
        setTasks(sortedTasks);
      });
    });
  }, []);

  return isLoading ? (
    "loading"
  ) : (
    <div className="p-2">
      <ProgressTab
        chosenDate={isoDate}
        completionPercentage={completionPercentage}
      />
      <div className="bg-pink-100 p-3 flex flex-col gap-5 rounded-lg my-5 text-black">
        {tasks["Day Specific"].length > 0 && (
          <ul
            id="Day Specific"
            className="bg-yellow-100 p-5 rounded-lg shadow-lg"
          >
            <div className="flex flex-row items-center gap-2 justify-start">
              <svg
                fill="#000000"
                className="w-6"
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 612 612"
                xml:space="preserve"
              >
                <g>
                  <g>
                    <path
                      d="M612,463.781c0-70.342-49.018-129.199-114.75-144.379c-10.763-2.482-21.951-3.84-33.469-3.84
			c-3.218,0-6.397,0.139-9.562,0.34c-71.829,4.58-129.725,60.291-137.69,131.145c-0.617,5.494-0.966,11.073-0.966,16.734
			c0,10.662,1.152,21.052,3.289,31.078C333.139,561.792,392.584,612,463.781,612C545.641,612,612,545.641,612,463.781z
			 M463.781,561.797c-54.133,0-98.016-43.883-98.016-98.016s43.883-98.016,98.016-98.016s98.016,43.883,98.016,98.016
			S517.914,561.797,463.781,561.797z"
                    />
                    <polygon
                      points="482.906,396.844 449.438,396.844 449.438,449.438 396.844,449.438 396.844,482.906 482.906,482.906 
			482.906,449.438 482.906,449.438 		"
                    />
                    <path
                      d="M109.969,0c-9.228,0-16.734,7.507-16.734,16.734v38.25v40.641c0,9.228,7.506,16.734,16.734,16.734h14.344
			c9.228,0,16.734-7.507,16.734-16.734V54.984v-38.25C141.047,7.507,133.541,0,124.312,0H109.969z"
                    />
                    <path
                      d="M372.938,0c-9.228,0-16.734,7.507-16.734,16.734v38.25v40.641c0,9.228,7.507,16.734,16.734,16.734h14.344
			c9.228,0,16.734-7.507,16.734-16.734V54.984v-38.25C404.016,7.507,396.509,0,387.281,0H372.938z"
                    />
                    <path
                      d="M38.25,494.859h236.672c-2.333-11.6-3.572-23.586-3.572-35.859c0-4.021,0.177-7.999,0.435-11.953H71.719
			c-15.845,0-28.688-12.843-28.688-28.688v-229.5h411.188v88.707c3.165-0.163,6.354-0.253,9.562-0.253
			c11.437,0,22.61,1.109,33.469,3.141V93.234c0-21.124-17.126-38.25-38.25-38.25h-31.078v40.641c0,22.41-18.23,40.641-40.641,40.641
			h-14.344c-22.41,0-40.641-18.231-40.641-40.641V54.984H164.953v40.641c0,22.41-18.231,40.641-40.641,40.641h-14.344
			c-22.41,0-40.641-18.231-40.641-40.641V54.984H38.25C17.126,54.984,0,72.111,0,93.234v363.375
			C0,477.733,17.126,494.859,38.25,494.859z"
                    />
                    <circle cx="134.774" cy="260.578" r="37.954" />
                    <circle cx="248.625" cy="260.578" r="37.954" />
                    <circle cx="362.477" cy="260.578" r="37.954" />
                    <circle cx="248.625" cy="375.328" r="37.953" />
                    <circle cx="134.774" cy="375.328" r="37.953" />
                  </g>
                </g>
              </svg>
              <h3 className="underline font-bold text-base">
                Appointments and Day Specific tasks
              </h3>
            </div>

            {tasks["Day Specific"].map((task) => (
              <li
                key={task._id}
                className="flex flex-row gap-2 items-center mt-3"
              >
                <p
                  className={
                    intervalColors[task.template.repeatInterval] +
                    " py-1 px-2 shadow-md rounded text-sm"
                  }
                >
                  {task.time}
                </p>
                <p className={task.isCompleted ? "text-gray-600" : ""}>
                  {task.template.text}
                </p>
                {task.isCompleted && (
                  <svg
                    className="h-5"
                    xmlns="http://www.w3.org/2000/svg"
                    x="0px"
                    y="0px"
                    viewBox="0 0 48 48"
                  >
                    <path
                      fill="#43A047"
                      d="M40.6 12.1L17 35.7 7.4 26.1 4.6 29 17 41.3 43.4 14.9z"
                    ></path>
                  </svg>
                )}
              </li>
            ))}
          </ul>
        )}
        {tasks.Meals.length > 0 && (
          <ul id="Meals" className="bg-white p-5 rounded-lg shadow-lg">
            <div className="flex flex-row items-center gap-1 justify-start">
              <svg
                className="h-6"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                width="50"
                zoomAndPan="magnify"
                viewBox="0 0 37.5 37.499999"
                height="50"
                preserveAspectRatio="xMidYMid meet"
                version="1.0"
              >
                <defs>
                  <clipPath id="80e30fad60">
                    <path
                      d="M 0 0 L 37.007812 0 L 37.007812 37.007812 L 0 37.007812 Z M 0 0 "
                      clipRule="nonzero"
                    />
                  </clipPath>
                </defs>
                <g clipPath="url(#80e30fad60)">
                  <path
                    fill="#000000"
                    d="M 18.503906 37.007812 C 19.109375 37.007812 19.714844 36.976562 20.316406 36.917969 C 20.921875 36.859375 21.519531 36.769531 22.113281 36.652344 C 22.707031 36.53125 23.292969 36.386719 23.875 36.210938 C 24.453125 36.035156 25.023438 35.828125 25.585938 35.597656 C 26.144531 35.367188 26.691406 35.105469 27.226562 34.820312 C 27.761719 34.535156 28.277344 34.226562 28.78125 33.886719 C 29.285156 33.550781 29.773438 33.191406 30.242188 32.804688 C 30.710938 32.421875 31.160156 32.015625 31.585938 31.585938 C 32.015625 31.160156 32.421875 30.710938 32.804688 30.242188 C 33.191406 29.773438 33.550781 29.285156 33.886719 28.78125 C 34.226562 28.277344 34.535156 27.761719 34.820312 27.226562 C 35.105469 26.691406 35.367188 26.144531 35.597656 25.585938 C 35.828125 25.023438 36.035156 24.453125 36.210938 23.875 C 36.386719 23.292969 36.53125 22.707031 36.652344 22.113281 C 36.769531 21.519531 36.859375 20.921875 36.917969 20.316406 C 36.976562 19.714844 37.007812 19.109375 37.007812 18.503906 C 37.007812 17.898438 36.976562 17.292969 36.917969 16.691406 C 36.859375 16.085938 36.769531 15.488281 36.652344 14.894531 C 36.53125 14.300781 36.386719 13.710938 36.210938 13.132812 C 36.035156 12.550781 35.828125 11.980469 35.597656 11.421875 C 35.367188 10.863281 35.105469 10.316406 34.820312 9.78125 C 34.535156 9.246094 34.226562 8.726562 33.886719 8.222656 C 33.550781 7.71875 33.191406 7.234375 32.804688 6.765625 C 32.421875 6.296875 32.015625 5.847656 31.585938 5.417969 C 31.160156 4.992188 30.710938 4.585938 30.242188 4.199219 C 29.773438 3.816406 29.285156 3.453125 28.78125 3.117188 C 28.277344 2.78125 27.761719 2.46875 27.226562 2.183594 C 26.691406 1.898438 26.144531 1.640625 25.585938 1.410156 C 25.023438 1.175781 24.453125 0.972656 23.875 0.796875 C 23.292969 0.621094 22.707031 0.472656 22.113281 0.355469 C 21.519531 0.238281 20.921875 0.148438 20.316406 0.0898438 C 19.714844 0.03125 19.109375 0 18.503906 0 C 17.898438 0 17.292969 0.03125 16.691406 0.0898438 C 16.085938 0.148438 15.488281 0.238281 14.894531 0.355469 C 14.300781 0.472656 13.710938 0.621094 13.132812 0.796875 C 12.550781 0.972656 11.980469 1.175781 11.421875 1.410156 C 10.863281 1.640625 10.316406 1.898438 9.78125 2.183594 C 9.246094 2.46875 8.726562 2.78125 8.222656 3.117188 C 7.71875 3.453125 7.234375 3.816406 6.765625 4.199219 C 6.296875 4.585938 5.847656 4.992188 5.417969 5.417969 C 4.992188 5.847656 4.585938 6.296875 4.199219 6.765625 C 3.816406 7.234375 3.453125 7.71875 3.117188 8.222656 C 2.78125 8.726562 2.46875 9.246094 2.183594 9.78125 C 1.898438 10.316406 1.640625 10.863281 1.410156 11.421875 C 1.175781 11.980469 0.972656 12.550781 0.796875 13.132812 C 0.621094 13.710938 0.472656 14.300781 0.355469 14.894531 C 0.238281 15.488281 0.148438 16.085938 0.0898438 16.691406 C 0.03125 17.292969 0 17.898438 0 18.503906 C 0 19.109375 0.03125 19.714844 0.0898438 20.316406 C 0.148438 20.921875 0.238281 21.519531 0.355469 22.113281 C 0.472656 22.707031 0.621094 23.292969 0.796875 23.875 C 0.972656 24.453125 1.175781 25.023438 1.410156 25.585938 C 1.640625 26.144531 1.898438 26.691406 2.183594 27.226562 C 2.46875 27.761719 2.78125 28.277344 3.117188 28.78125 C 3.453125 29.285156 3.816406 29.773438 4.199219 30.242188 C 4.585938 30.710938 4.992188 31.160156 5.417969 31.585938 C 5.847656 32.015625 6.296875 32.421875 6.765625 32.804688 C 7.234375 33.191406 7.71875 33.550781 8.222656 33.886719 C 8.726562 34.226562 9.246094 34.535156 9.78125 34.820312 C 10.316406 35.105469 10.863281 35.367188 11.421875 35.597656 C 11.980469 35.828125 12.550781 36.035156 13.132812 36.210938 C 13.710938 36.386719 14.300781 36.53125 14.894531 36.652344 C 15.488281 36.769531 16.085938 36.859375 16.691406 36.917969 C 17.292969 36.976562 17.898438 37.007812 18.503906 37.007812 Z M 18.503906 1.234375 C 19.070312 1.234375 19.632812 1.261719 20.195312 1.316406 C 20.757812 1.371094 21.316406 1.453125 21.871094 1.566406 C 22.425781 1.675781 22.976562 1.8125 23.515625 1.976562 C 24.058594 2.140625 24.589844 2.332031 25.113281 2.546875 C 25.632812 2.765625 26.144531 3.007812 26.644531 3.273438 C 27.144531 3.539062 27.628906 3.828125 28.097656 4.144531 C 28.566406 4.457031 29.023438 4.792969 29.460938 5.152344 C 29.894531 5.511719 30.316406 5.890625 30.714844 6.292969 C 31.113281 6.691406 31.496094 7.109375 31.851562 7.546875 C 32.210938 7.984375 32.546875 8.4375 32.863281 8.910156 C 33.175781 9.378906 33.46875 9.863281 33.734375 10.363281 C 34 10.859375 34.242188 11.371094 34.457031 11.894531 C 34.675781 12.417969 34.863281 12.949219 35.03125 13.488281 C 35.195312 14.03125 35.332031 14.578125 35.441406 15.132812 C 35.550781 15.6875 35.632812 16.246094 35.691406 16.8125 C 35.746094 17.375 35.773438 17.9375 35.773438 18.503906 C 35.773438 19.070312 35.746094 19.632812 35.691406 20.195312 C 35.632812 20.757812 35.550781 21.316406 35.441406 21.871094 C 35.332031 22.425781 35.195312 22.976562 35.03125 23.515625 C 34.863281 24.058594 34.675781 24.589844 34.457031 25.113281 C 34.242188 25.632812 34 26.144531 33.734375 26.644531 C 33.46875 27.144531 33.175781 27.628906 32.863281 28.097656 C 32.546875 28.566406 32.210938 29.023438 31.851562 29.460938 C 31.496094 29.894531 31.113281 30.316406 30.714844 30.714844 C 30.316406 31.113281 29.894531 31.496094 29.460938 31.851562 C 29.023438 32.210938 28.566406 32.546875 28.097656 32.863281 C 27.628906 33.175781 27.144531 33.46875 26.644531 33.734375 C 26.144531 34 25.632812 34.242188 25.113281 34.457031 C 24.589844 34.675781 24.058594 34.863281 23.515625 35.03125 C 22.976562 35.195312 22.425781 35.332031 21.871094 35.441406 C 21.316406 35.550781 20.757812 35.632812 20.195312 35.691406 C 19.632812 35.746094 19.070312 35.773438 18.503906 35.773438 C 17.9375 35.773438 17.375 35.746094 16.8125 35.691406 C 16.246094 35.632812 15.6875 35.550781 15.132812 35.441406 C 14.578125 35.332031 14.03125 35.195312 13.488281 35.03125 C 12.949219 34.863281 12.417969 34.675781 11.894531 34.457031 C 11.371094 34.242188 10.859375 34 10.363281 33.734375 C 9.863281 33.46875 9.378906 33.175781 8.910156 32.863281 C 8.4375 32.546875 7.984375 32.210938 7.546875 31.851562 C 7.109375 31.496094 6.691406 31.113281 6.292969 30.714844 C 5.890625 30.316406 5.511719 29.894531 5.152344 29.460938 C 4.792969 29.023438 4.457031 28.566406 4.144531 28.097656 C 3.828125 27.628906 3.539062 27.144531 3.273438 26.644531 C 3.007812 26.144531 2.765625 25.632812 2.546875 25.113281 C 2.332031 24.589844 2.140625 24.058594 1.976562 23.515625 C 1.8125 22.976562 1.675781 22.425781 1.566406 21.871094 C 1.453125 21.316406 1.371094 20.757812 1.316406 20.195312 C 1.261719 19.632812 1.234375 19.070312 1.234375 18.503906 C 1.234375 17.9375 1.261719 17.375 1.316406 16.8125 C 1.371094 16.246094 1.453125 15.6875 1.566406 15.132812 C 1.675781 14.578125 1.8125 14.03125 1.976562 13.488281 C 2.140625 12.949219 2.332031 12.417969 2.546875 11.894531 C 2.765625 11.371094 3.007812 10.859375 3.273438 10.363281 C 3.539062 9.863281 3.828125 9.378906 4.144531 8.910156 C 4.457031 8.4375 4.792969 7.984375 5.152344 7.546875 C 5.511719 7.109375 5.890625 6.691406 6.292969 6.292969 C 6.691406 5.890625 7.109375 5.511719 7.546875 5.152344 C 7.984375 4.792969 8.4375 4.457031 8.910156 4.144531 C 9.378906 3.828125 9.863281 3.539062 10.363281 3.273438 C 10.859375 3.007812 11.371094 2.765625 11.894531 2.546875 C 12.417969 2.332031 12.949219 2.140625 13.488281 1.976562 C 14.03125 1.8125 14.578125 1.675781 15.132812 1.566406 C 15.6875 1.453125 16.246094 1.371094 16.8125 1.316406 C 17.375 1.261719 17.9375 1.234375 18.503906 1.234375 Z M 18.503906 1.234375 "
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                </g>
                <path
                  fill="#000000"
                  d="M 10.226562 30.917969 C 10.332031 30.992188 10.449219 31.03125 10.578125 31.03125 C 10.792969 31.027344 10.960938 30.9375 11.082031 30.757812 C 11.179688 30.617188 11.210938 30.464844 11.179688 30.296875 C 11.148438 30.128906 11.0625 29.996094 10.921875 29.902344 C 10.519531 29.625 10.128906 29.324219 9.757812 29.007812 C 9.386719 28.6875 9.03125 28.347656 8.695312 27.992188 C 8.359375 27.632812 8.042969 27.257812 7.75 26.867188 C 7.453125 26.472656 7.183594 26.066406 6.929688 25.644531 C 6.679688 25.222656 6.453125 24.789062 6.25 24.34375 C 6.046875 23.898438 5.867188 23.441406 5.710938 22.976562 C 5.558594 22.511719 5.429688 22.039062 5.324219 21.558594 C 5.222656 21.078125 5.144531 20.59375 5.09375 20.105469 C 5.046875 19.621094 5.019531 19.128906 5.023438 18.640625 C 5.027344 18.148438 5.054688 17.660156 5.109375 17.171875 C 5.164062 16.683594 5.246094 16.203125 5.355469 15.722656 C 5.464844 15.246094 5.597656 14.773438 5.753906 14.308594 C 5.914062 13.847656 6.097656 13.390625 6.304688 12.949219 C 6.515625 12.503906 6.746094 12.070312 7 11.652344 C 7.257812 11.234375 7.53125 10.828125 7.832031 10.441406 C 8.132812 10.050781 8.449219 9.679688 8.789062 9.324219 C 8.890625 9.199219 8.9375 9.058594 8.929688 8.898438 C 8.917969 8.734375 8.855469 8.597656 8.738281 8.488281 C 8.625 8.375 8.484375 8.320312 8.324219 8.316406 C 8.160156 8.3125 8.019531 8.367188 7.902344 8.472656 C 7.53125 8.859375 7.183594 9.265625 6.855469 9.691406 C 6.53125 10.113281 6.230469 10.554688 5.949219 11.011719 C 5.671875 11.46875 5.417969 11.941406 5.191406 12.425781 C 4.964844 12.910156 4.765625 13.40625 4.589844 13.910156 C 4.417969 14.417969 4.273438 14.929688 4.15625 15.453125 C 4.039062 15.976562 3.949219 16.503906 3.886719 17.035156 C 3.828125 17.566406 3.796875 18.097656 3.792969 18.632812 C 3.789062 19.167969 3.816406 19.703125 3.871094 20.234375 C 3.925781 20.765625 4.011719 21.292969 4.121094 21.816406 C 4.234375 22.339844 4.375 22.855469 4.542969 23.363281 C 4.710938 23.871094 4.90625 24.371094 5.128906 24.855469 C 5.351562 25.34375 5.597656 25.816406 5.871094 26.277344 C 6.144531 26.734375 6.445312 27.179688 6.765625 27.609375 C 7.085938 28.035156 7.429688 28.445312 7.796875 28.835938 C 8.164062 29.226562 8.550781 29.59375 8.953125 29.941406 C 9.359375 30.289062 9.785156 30.617188 10.226562 30.917969 Z M 10.226562 30.917969 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <path
                  fill="#000000"
                  d="M 15.605469 32.589844 C 15.574219 32.757812 15.609375 32.914062 15.707031 33.054688 C 15.808594 33.195312 15.941406 33.277344 16.109375 33.304688 C 16.925781 33.441406 17.75 33.507812 18.578125 33.507812 C 19.542969 33.511719 20.5 33.417969 21.445312 33.230469 C 21.617188 33.199219 21.75 33.113281 21.847656 32.96875 C 21.945312 32.824219 21.976562 32.667969 21.945312 32.496094 C 21.914062 32.328125 21.824219 32.195312 21.679688 32.097656 C 21.539062 32 21.382812 31.964844 21.210938 32 C 19.570312 32.316406 17.925781 32.335938 16.277344 32.058594 C 16.113281 32.042969 15.964844 32.085938 15.832031 32.191406 C 15.703125 32.292969 15.625 32.425781 15.605469 32.589844 Z M 15.605469 32.589844 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <path
                  fill="#000000"
                  d="M 26.558594 29.699219 C 26.4375 29.773438 26.351562 29.875 26.304688 30.007812 C 26.253906 30.140625 26.25 30.277344 26.292969 30.410156 C 26.335938 30.546875 26.417969 30.652344 26.535156 30.734375 C 26.652344 30.8125 26.78125 30.847656 26.921875 30.839844 C 27.054688 30.839844 27.171875 30.800781 27.28125 30.722656 C 27.695312 30.421875 28.09375 30.097656 28.476562 29.757812 C 28.859375 29.414062 29.222656 29.054688 29.566406 28.671875 C 29.914062 28.292969 30.238281 27.894531 30.539062 27.480469 C 30.84375 27.066406 31.125 26.640625 31.382812 26.195312 C 31.644531 25.753906 31.878906 25.296875 32.089844 24.828125 C 32.300781 24.363281 32.488281 23.886719 32.648438 23.398438 C 32.8125 22.910156 32.949219 22.417969 33.058594 21.914062 C 33.167969 21.414062 33.253906 20.910156 33.3125 20.398438 C 33.367188 19.886719 33.398438 19.378906 33.40625 18.863281 C 33.410156 18.351562 33.386719 17.839844 33.339844 17.328125 C 33.289062 16.816406 33.214844 16.308594 33.113281 15.804688 C 33.011719 15.304688 32.886719 14.804688 32.730469 14.316406 C 32.578125 13.828125 32.402344 13.347656 32.199219 12.875 C 31.996094 12.402344 31.769531 11.945312 31.519531 11.496094 C 31.265625 11.046875 30.992188 10.613281 30.699219 10.195312 C 30.402344 9.777344 30.085938 9.371094 29.746094 8.988281 C 29.640625 8.839844 29.496094 8.753906 29.316406 8.734375 C 29.136719 8.714844 28.976562 8.765625 28.839844 8.882812 C 28.703125 9.003906 28.632812 9.152344 28.628906 9.335938 C 28.625 9.515625 28.691406 9.667969 28.820312 9.792969 C 29.132812 10.148438 29.421875 10.519531 29.695312 10.902344 C 29.964844 11.285156 30.214844 11.683594 30.445312 12.09375 C 30.675781 12.503906 30.886719 12.925781 31.070312 13.359375 C 31.257812 13.789062 31.421875 14.230469 31.5625 14.679688 C 31.703125 15.128906 31.820312 15.582031 31.914062 16.046875 C 32.007812 16.507812 32.074219 16.972656 32.121094 17.441406 C 32.164062 17.90625 32.183594 18.378906 32.179688 18.847656 C 32.175781 19.320312 32.148438 19.789062 32.097656 20.253906 C 32.042969 20.722656 31.964844 21.1875 31.863281 21.644531 C 31.765625 22.105469 31.640625 22.558594 31.492188 23.003906 C 31.34375 23.453125 31.171875 23.890625 30.976562 24.320312 C 30.785156 24.746094 30.570312 25.164062 30.332031 25.570312 C 30.09375 25.976562 29.835938 26.371094 29.558594 26.75 C 29.28125 27.128906 28.984375 27.496094 28.667969 27.84375 C 28.351562 28.191406 28.019531 28.523438 27.667969 28.835938 C 27.316406 29.152344 26.953125 29.445312 26.570312 29.722656 Z M 26.558594 29.699219 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <path
                  fill="#000000"
                  d="M 11.71875 14.800781 L 11.71875 32.074219 C 11.71875 32.316406 11.765625 32.554688 11.859375 32.78125 C 11.953125 33.007812 12.085938 33.207031 12.261719 33.378906 C 12.433594 33.554688 12.632812 33.6875 12.859375 33.78125 C 13.085938 33.875 13.324219 33.921875 13.570312 33.921875 C 13.8125 33.921875 14.050781 33.875 14.277344 33.78125 C 14.503906 33.6875 14.703125 33.554688 14.878906 33.378906 C 15.050781 33.207031 15.183594 33.007812 15.277344 32.78125 C 15.371094 32.554688 15.417969 32.316406 15.417969 32.074219 L 15.417969 14.832031 C 15.988281 14.503906 16.4375 14.058594 16.765625 13.492188 C 17.097656 12.925781 17.265625 12.3125 17.269531 11.65625 L 17.269531 5.019531 C 17.269531 4.851562 17.210938 4.703125 17.089844 4.585938 C 16.96875 4.464844 16.824219 4.402344 16.652344 4.402344 C 16.484375 4.402344 16.335938 4.464844 16.21875 4.585938 C 16.097656 4.703125 16.035156 4.851562 16.035156 5.019531 L 16.035156 11.65625 C 16.03125 12.144531 15.894531 12.589844 15.628906 12.996094 C 15.359375 13.402344 15 13.703125 14.554688 13.894531 L 14.5 13.933594 C 14.453125 13.960938 14.40625 13.992188 14.363281 14.03125 C 14.339844 14.0625 14.316406 14.097656 14.296875 14.128906 C 14.269531 14.160156 14.25 14.191406 14.234375 14.230469 C 14.214844 14.28125 14.203125 14.339844 14.199219 14.394531 C 14.199219 14.394531 14.199219 14.4375 14.199219 14.464844 L 14.199219 32.074219 C 14.199219 32.242188 14.136719 32.386719 14.015625 32.507812 C 13.898438 32.628906 13.75 32.6875 13.582031 32.6875 C 13.410156 32.6875 13.265625 32.628906 13.144531 32.507812 C 13.023438 32.386719 12.964844 32.242188 12.964844 32.074219 L 12.964844 14.46875 C 12.96875 14.449219 12.96875 14.433594 12.964844 14.414062 C 12.960938 14.351562 12.949219 14.292969 12.925781 14.234375 C 12.910156 14.199219 12.890625 14.167969 12.867188 14.136719 C 12.847656 14.101562 12.824219 14.066406 12.796875 14.039062 C 12.75 13.992188 12.695312 13.957031 12.636719 13.925781 L 12.605469 13.925781 C 12.320312 13.808594 12.066406 13.636719 11.847656 13.414062 C 11.34375 12.9375 11.097656 12.351562 11.101562 11.65625 L 11.101562 5.019531 C 11.101562 4.851562 11.042969 4.703125 10.921875 4.585938 C 10.800781 4.464844 10.65625 4.402344 10.484375 4.402344 C 10.316406 4.402344 10.167969 4.464844 10.050781 4.585938 C 9.929688 4.703125 9.867188 4.851562 9.867188 5.019531 L 9.867188 11.65625 C 9.867188 12.679688 10.230469 13.546875 10.953125 14.265625 C 11.1875 14.472656 11.445312 14.652344 11.71875 14.800781 Z M 11.71875 14.800781 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <path
                  fill="#000000"
                  d="M 14.628906 12.953125 C 14.800781 12.953125 14.945312 12.890625 15.066406 12.773438 C 15.1875 12.652344 15.246094 12.503906 15.246094 12.335938 L 15.246094 4.933594 C 15.246094 4.765625 15.1875 4.617188 15.066406 4.5 C 14.945312 4.378906 14.800781 4.316406 14.628906 4.316406 C 14.460938 4.316406 14.3125 4.378906 14.195312 4.5 C 14.074219 4.617188 14.011719 4.765625 14.011719 4.933594 L 14.011719 12.335938 C 14.011719 12.503906 14.074219 12.652344 14.195312 12.773438 C 14.3125 12.890625 14.460938 12.953125 14.628906 12.953125 Z M 14.628906 12.953125 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <path
                  fill="#000000"
                  d="M 12.515625 12.953125 C 12.683594 12.953125 12.832031 12.890625 12.949219 12.773438 C 13.070312 12.652344 13.132812 12.503906 13.132812 12.335938 L 13.132812 4.933594 C 13.132812 4.765625 13.070312 4.617188 12.949219 4.5 C 12.832031 4.378906 12.683594 4.316406 12.515625 4.316406 C 12.34375 4.316406 12.199219 4.378906 12.078125 4.5 C 11.957031 4.617188 11.898438 4.765625 11.898438 4.933594 L 11.898438 12.335938 C 11.898438 12.503906 11.957031 12.652344 12.078125 12.773438 C 12.199219 12.890625 12.34375 12.953125 12.515625 12.953125 Z M 12.515625 12.953125 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <path
                  fill="#000000"
                  d="M 22.203125 14.988281 L 22.203125 31.992188 C 22.203125 32.238281 22.25 32.472656 22.34375 32.699219 C 22.4375 32.925781 22.574219 33.128906 22.746094 33.300781 C 22.917969 33.472656 23.121094 33.609375 23.347656 33.703125 C 23.574219 33.796875 23.808594 33.84375 24.054688 33.84375 C 24.300781 33.84375 24.535156 33.796875 24.761719 33.703125 C 24.988281 33.609375 25.1875 33.472656 25.363281 33.300781 C 25.535156 33.128906 25.667969 32.925781 25.765625 32.699219 C 25.859375 32.472656 25.90625 32.238281 25.90625 31.992188 L 25.90625 14.988281 C 27.488281 14.1875 28.0625 12.335938 28.0625 10.855469 C 28.0625 7.699219 26.453125 4.316406 24.054688 4.316406 C 21.65625 4.316406 20.046875 7.699219 20.046875 10.855469 C 20.046875 12.335938 20.617188 14.1875 22.203125 14.988281 Z M 24.054688 5.550781 C 25.503906 5.550781 26.828125 8.078125 26.828125 10.855469 C 26.828125 12.089844 26.367188 13.53125 25.070312 14.007812 C 24.804688 14.105469 24.671875 14.300781 24.671875 14.585938 L 24.671875 31.992188 C 24.671875 32.164062 24.609375 32.308594 24.492188 32.429688 C 24.371094 32.546875 24.222656 32.609375 24.054688 32.609375 C 23.882812 32.609375 23.738281 32.546875 23.617188 32.429688 C 23.496094 32.308594 23.4375 32.164062 23.4375 31.992188 L 23.4375 14.585938 C 23.4375 14.300781 23.304688 14.105469 23.035156 14.007812 C 21.742188 13.53125 21.277344 12.0625 21.277344 10.855469 C 21.277344 8.078125 22.605469 5.550781 24.054688 5.550781 Z M 24.054688 5.550781 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <path
                  strokeLinecap="butt"
                  transform="matrix(0, 0.740132, -0.740132, 0, 12.651624, 14.807256)"
                  fill="none"
                  strokeLinejoin="miter"
                  d="M 0.001807 0.500416 L 12.198752 0.500416 "
                  stroke="#000000"
                  strokeWidth="1"
                  strokeOpacity="1"
                  strokeMiterlimit="4"
                />
              </svg>
              <h3 className="underline font-bold">Meals</h3>
            </div>

            {tasks.Meals.map((task) => (
              <li
                key={task._id}
                className="flex flex-row gap-2 items-center mt-3"
              >
                <p
                  className={
                    intervalColors[task.template.repeatInterval] +
                    " py-1 px-2 shadow-md rounded text-sm"
                  }
                >
                  {task.template.repeatInterval}
                </p>
                <p className={task.isCompleted ? "text-gray-600" : ""}>
                  {task.template.text}
                </p>
                {task.isCompleted && (
                  <svg
                    className="h-5"
                    xmlns="http://www.w3.org/2000/svg"
                    x="0px"
                    y="0px"
                    viewBox="0 0 48 48"
                  >
                    <path
                      fill="#43A047"
                      d="M40.6 12.1L17 35.7 7.4 26.1 4.6 29 17 41.3 43.4 14.9z"
                    ></path>
                  </svg>
                )}
              </li>
            ))}
          </ul>
        )}
        {tasks.Medical.length > 0 && (
          <ul id="Medical" className="bg-white p-5 rounded-lg shadow-lg ">
            <div className="flex flex-row items-center gap-1 justify-start">
              <svg
                className="h-5"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                width="50"
                zoomAndPan="magnify"
                viewBox="0 0 37.5 37.499999"
                height="50"
                preserveAspectRatio="xMidYMid meet"
                version="1.0"
              >
                <defs>
                  <clipPath id="7f43d0afe4">
                    <path
                      d="M 0 4.238281 L 37 4.238281 L 37 33.105469 L 0 33.105469 Z M 0 4.238281 "
                      clipRule="nonzero"
                    />
                  </clipPath>
                </defs>
                <g clipPath="url(#7f43d0afe4)">
                  <path
                    fill="#000000"
                    d="M 1.03125 25.308594 C 3.042969 25.308594 5.054688 25.308594 7.066406 25.308594 C 7.410156 25.308594 7.691406 25.074219 7.792969 24.753906 C 9.050781 20.730469 10.304688 16.707031 11.5625 12.683594 C 11.078125 12.683594 10.59375 12.683594 10.109375 12.683594 C 11.617188 16.875 13.125 21.066406 14.636719 25.257812 C 14.875 25.925781 15.894531 26.027344 16.089844 25.257812 C 17.765625 18.636719 19.441406 12.011719 21.117188 5.390625 C 20.632812 5.390625 20.148438 5.390625 19.664062 5.390625 C 21.257812 14.445312 22.847656 23.496094 24.441406 32.550781 C 24.554688 33.179688 25.546875 33.296875 25.820312 32.730469 C 27.03125 30.226562 28.242188 27.722656 29.453125 25.222656 C 29.753906 24.597656 28.515625 25.308594 29.332031 25.308594 C 30.125 25.308594 30.917969 25.308594 31.710938 25.308594 C 33.136719 25.308594 34.558594 25.308594 35.980469 25.308594 C 36.953125 25.308594 36.953125 23.800781 35.980469 23.800781 C 33.636719 23.800781 31.289062 23.800781 28.941406 23.800781 C 28.691406 23.800781 28.402344 23.9375 28.289062 24.171875 C 27.03125 26.769531 25.777344 29.371094 24.519531 31.96875 C 24.976562 32.027344 25.4375 32.085938 25.898438 32.148438 C 24.304688 23.097656 22.710938 14.042969 21.117188 4.992188 C 20.988281 4.238281 19.839844 4.300781 19.664062 4.992188 C 17.988281 11.613281 16.3125 18.234375 14.636719 24.855469 C 15.121094 24.855469 15.605469 24.855469 16.089844 24.855469 C 14.582031 20.664062 13.074219 16.472656 11.5625 12.28125 C 11.3125 11.589844 10.339844 11.542969 10.109375 12.28125 C 8.851562 16.304688 7.59375 20.328125 6.335938 24.351562 C 6.578125 24.167969 6.820312 23.984375 7.066406 23.800781 C 5.054688 23.800781 3.042969 23.800781 1.03125 23.800781 C 0.0546875 23.800781 0.0546875 25.308594 1.03125 25.308594 Z M 1.03125 25.308594 "
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                </g>
              </svg>
              <h3 className="underline font-bold">Medical</h3>
            </div>

            {tasks.Medical.map((task) => (
              <li
                key={task._id}
                className="flex flex-row gap-2 items-center mt-3"
              >
                <p
                  className={
                    intervalColors[task.template.repeatInterval] +
                    " py-1 px-2 shadow-md rounded text-sm"
                  }
                >
                  {task.template.repeatInterval}
                </p>
                <p className={task.isCompleted ? "text-gray-600" : ""}>
                  {task.template.text}
                </p>
                {task.isCompleted && (
                  <svg
                    className="h-5"
                    xmlns="http://www.w3.org/2000/svg"
                    x="0px"
                    y="0px"
                    viewBox="0 0 48 48"
                  >
                    <path
                      fill="#43A047"
                      d="M40.6 12.1L17 35.7 7.4 26.1 4.6 29 17 41.3 43.4 14.9z"
                    ></path>
                  </svg>
                )}
              </li>
            ))}
          </ul>
        )}
        {tasks.Hygiene.length > 0 && (
          <ul id="Hygeine" className="bg-white p-5 rounded-lg shadow-lg ">
            <div className="flex flex-row items-center gap-1 justify-start">
              <svg
                className="h-5"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                width="50"
                zoomAndPan="magnify"
                viewBox="0 0 37.5 37.499999"
                height="50"
                preserveAspectRatio="xMidYMid meet"
                version="1.0"
              >
                <defs>
                  <clipPath id="fb9f8a5c12">
                    <path
                      d="M 0 0 L 37 0 L 37 35.527344 L 0 35.527344 Z M 0 0 "
                      clipRule="nonzero"
                    />
                  </clipPath>
                  <clipPath id="865d190d5b">
                    <path
                      d="M 36 13 L 37.007812 13 L 37.007812 24 L 36 24 Z M 36 13 "
                      clipRule="nonzero"
                    />
                  </clipPath>
                </defs>
                <g clipPath="url(#fb9f8a5c12)">
                  <path
                    fill="#000000"
                    d="M 33.9375 10.292969 L 33.9375 8.410156 C 33.9375 7.457031 33.183594 6.660156 32.222656 6.660156 L 31.875 6.660156 L 31.875 5.0625 L 32.523438 5.0625 C 32.667969 5.066406 32.792969 5.015625 32.894531 4.914062 C 32.996094 4.8125 33.046875 4.691406 33.039062 4.550781 L 33.039062 0.53125 C 33.046875 0.386719 32.996094 0.261719 32.898438 0.160156 C 32.796875 0.0546875 32.671875 0 32.523438 0 L 27.097656 0 C 26.949219 0 26.828125 0.0546875 26.726562 0.160156 C 26.628906 0.265625 26.582031 0.390625 26.585938 0.53125 L 26.585938 2.191406 C 26.046875 1.75 25.421875 1.523438 24.722656 1.511719 L 17.996094 1.460938 C 17.847656 1.460938 17.722656 1.511719 17.613281 1.613281 C 17.507812 1.714844 17.453125 1.839844 17.453125 1.988281 C 17.449219 2.132812 17.5 2.261719 17.605469 2.367188 C 17.707031 2.472656 17.835938 2.523438 17.984375 2.527344 L 24.695312 2.574219 C 24.941406 2.582031 25.183594 2.632812 25.410156 2.730469 C 25.636719 2.828125 25.839844 2.964844 26.011719 3.140625 C 26.183594 3.320312 26.316406 3.523438 26.40625 3.75 C 26.5 3.980469 26.542969 4.21875 26.539062 4.464844 C 26.539062 4.523438 26.546875 4.582031 26.566406 4.636719 C 26.589844 4.761719 26.652344 4.863281 26.753906 4.945312 C 26.851562 5.027344 26.96875 5.066406 27.097656 5.0625 L 27.753906 5.0625 L 27.753906 6.660156 L 27.398438 6.660156 C 26.4375 6.660156 25.691406 7.457031 25.691406 8.410156 L 25.691406 10.292969 C 25.261719 10.378906 24.855469 10.53125 24.480469 10.757812 C 24.101562 10.980469 23.773438 11.261719 23.496094 11.597656 C 23.21875 11.9375 23.003906 12.308594 22.859375 12.722656 C 22.714844 13.132812 22.640625 13.554688 22.644531 13.992188 L 22.644531 22.976562 C 22.421875 22.9375 22.199219 22.914062 21.972656 22.914062 L 17.175781 22.914062 C 16.386719 22.914062 15.636719 22.746094 14.925781 22.40625 L 14.433594 22.171875 C 13.726562 21.832031 12.992188 21.59375 12.21875 21.457031 C 11.449219 21.320312 10.675781 21.289062 9.894531 21.363281 C 9.117188 21.441406 8.359375 21.621094 7.632812 21.902344 C 6.902344 22.183594 6.226562 22.558594 5.601562 23.027344 C 5.589844 23.035156 5.578125 23.046875 5.566406 23.054688 L 0.238281 27.757812 C 0.140625 27.84375 0.0820312 27.953125 0.0625 28.082031 C 0.046875 28.214844 0.0742188 28.335938 0.144531 28.445312 L 4.625 35.285156 C 4.734375 35.445312 4.882812 35.527344 5.078125 35.527344 L 5.09375 35.527344 C 5.292969 35.519531 5.445312 35.433594 5.542969 35.257812 L 7.496094 31.890625 C 7.707031 31.519531 8.007812 31.246094 8.402344 31.074219 C 8.792969 30.902344 9.199219 30.863281 9.621094 30.960938 L 17.855469 33.007812 C 17.867188 33.011719 17.878906 33.015625 17.890625 33.015625 C 19.769531 33.351562 21.566406 33.097656 23.28125 32.261719 C 23.304688 32.25 23.324219 32.238281 23.347656 32.222656 L 23.414062 32.171875 C 23.777344 32.640625 24.226562 33.007812 24.757812 33.269531 C 25.292969 33.53125 25.859375 33.660156 26.453125 33.660156 L 33.164062 33.660156 C 33.671875 33.660156 34.15625 33.566406 34.625 33.375 C 35.09375 33.183594 35.503906 32.914062 35.863281 32.558594 C 36.222656 32.207031 36.496094 31.796875 36.691406 31.335938 C 36.886719 30.871094 36.984375 30.390625 36.984375 29.890625 L 36.984375 13.992188 C 36.988281 13.554688 36.914062 13.132812 36.769531 12.722656 C 36.621094 12.3125 36.410156 11.9375 36.132812 11.597656 C 35.855469 11.261719 35.527344 10.980469 35.148438 10.757812 C 34.773438 10.53125 34.367188 10.378906 33.9375 10.292969 Z M 27.664062 1.066406 L 31.964844 1.066406 L 31.964844 3.996094 L 27.664062 3.996094 Z M 28.828125 5.0625 L 30.800781 5.0625 L 30.800781 6.660156 L 28.828125 6.660156 Z M 27.398438 7.726562 L 32.222656 7.726562 C 32.59375 7.726562 32.859375 8.042969 32.859375 8.410156 L 32.859375 10.214844 L 26.765625 10.214844 L 26.765625 8.410156 C 26.765625 8.042969 27.027344 7.726562 27.398438 7.726562 Z M 23.71875 15.898438 L 29.277344 15.898438 L 29.277344 23.269531 L 25.664062 25.203125 C 25.230469 24.355469 24.582031 23.722656 23.71875 23.304688 Z M 18.097656 31.972656 L 9.898438 29.929688 L 9.875 29.921875 C 9.554688 29.851562 9.234375 29.828125 8.910156 29.859375 C 8.585938 29.890625 8.277344 29.96875 7.976562 30.097656 C 7.679688 30.226562 7.410156 30.398438 7.167969 30.613281 C 6.925781 30.832031 6.722656 31.078125 6.5625 31.359375 L 5.050781 33.972656 L 1.296875 28.25 L 6.265625 23.867188 C 6.808594 23.460938 7.402344 23.136719 8.039062 22.890625 C 8.671875 22.644531 9.332031 22.492188 10.011719 22.425781 C 10.691406 22.363281 11.363281 22.390625 12.035156 22.507812 C 12.707031 22.628906 13.351562 22.835938 13.964844 23.132812 L 14.457031 23.367188 C 15.316406 23.777344 16.222656 23.980469 17.175781 23.980469 L 21.972656 23.980469 C 22.3125 23.980469 22.640625 24.035156 22.960938 24.148438 C 23.28125 24.257812 23.578125 24.417969 23.84375 24.625 C 24.109375 24.832031 24.335938 25.078125 24.519531 25.359375 C 24.703125 25.644531 24.835938 25.949219 24.914062 26.273438 C 24.910156 26.324219 24.914062 26.375 24.925781 26.425781 L 21.472656 26.273438 C 20.207031 26.214844 18.945312 26.273438 17.6875 26.445312 L 17.582031 26.460938 C 17.433594 26.480469 17.316406 26.550781 17.226562 26.667969 C 17.136719 26.785156 17.101562 26.914062 17.121094 27.0625 C 17.140625 27.207031 17.210938 27.324219 17.328125 27.414062 C 17.449219 27.5 17.582031 27.535156 17.726562 27.515625 L 17.835938 27.5 C 19.027344 27.339844 20.222656 27.285156 21.421875 27.335938 L 25.515625 27.519531 C 25.667969 27.527344 25.800781 27.480469 25.910156 27.375 C 26.019531 27.269531 26.078125 27.140625 26.078125 26.988281 C 26.078125 26.746094 26.054688 26.507812 26.011719 26.269531 L 26.023438 26.214844 L 31.324219 23.382812 C 31.746094 23.15625 32.195312 23.078125 32.667969 23.148438 C 33.140625 23.21875 33.546875 23.421875 33.882812 23.761719 L 22.769531 31.324219 C 21.285156 32.039062 19.726562 32.253906 18.097656 31.972656 Z M 29.277344 28.191406 L 29.277344 29.308594 L 27.617188 29.308594 Z M 33.164062 32.59375 L 26.453125 32.59375 C 26.035156 32.59375 25.636719 32.503906 25.261719 32.324219 C 24.882812 32.140625 24.5625 31.886719 24.304688 31.5625 L 26.050781 30.375 L 29.808594 30.375 C 29.957031 30.378906 30.085938 30.328125 30.191406 30.226562 C 30.296875 30.125 30.351562 30 30.351562 29.851562 L 30.351562 27.460938 L 34.960938 24.324219 C 35.078125 24.242188 35.152344 24.136719 35.179688 23.996094 C 35.210938 23.859375 35.1875 23.730469 35.117188 23.609375 C 34.902344 23.257812 34.628906 22.957031 34.300781 22.707031 C 33.96875 22.460938 33.601562 22.28125 33.203125 22.171875 C 32.800781 22.0625 32.394531 22.03125 31.984375 22.082031 C 31.570312 22.128906 31.183594 22.25 30.816406 22.445312 L 30.351562 22.695312 L 30.351562 19.828125 L 30.496094 19.871094 C 31.484375 20.152344 32.4375 20.058594 33.351562 19.59375 C 34.003906 19.257812 34.6875 19.191406 35.398438 19.386719 L 35.910156 19.527344 L 35.910156 29.890625 C 35.90625 30.25 35.835938 30.59375 35.699219 30.925781 C 35.558594 31.257812 35.359375 31.550781 35.101562 31.804688 C 34.847656 32.058594 34.550781 32.253906 34.214844 32.390625 C 33.878906 32.527344 33.527344 32.597656 33.164062 32.59375 Z M 35.910156 18.421875 L 35.683594 18.359375 C 34.707031 18.089844 33.761719 18.183594 32.859375 18.644531 C 32.199219 18.980469 31.507812 19.050781 30.792969 18.84375 L 30.351562 18.71875 L 30.351562 15.402344 C 30.351562 15.109375 30.109375 14.832031 29.808594 14.832031 L 23.71875 14.832031 L 23.71875 13.992188 C 23.71875 13.632812 23.789062 13.285156 23.925781 12.953125 C 24.066406 12.621094 24.261719 12.328125 24.519531 12.074219 C 24.777344 11.820312 25.070312 11.625 25.40625 11.484375 C 25.742188 11.347656 26.089844 11.28125 26.453125 11.28125 L 33.164062 11.28125 C 33.527344 11.28125 33.878906 11.347656 34.214844 11.484375 C 34.550781 11.621094 34.847656 11.820312 35.105469 12.074219 C 35.359375 12.328125 35.558594 12.621094 35.699219 12.953125 C 35.839844 13.285156 35.90625 13.632812 35.910156 13.992188 Z M 35.910156 18.421875 "
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                </g>
                <path
                  fill="#000000"
                  d="M 17.410156 13.503906 C 17.648438 13.503906 17.882812 13.476562 18.113281 13.417969 C 18.34375 13.359375 18.5625 13.269531 18.769531 13.15625 C 18.976562 13.042969 19.167969 12.90625 19.339844 12.742188 C 19.511719 12.582031 19.660156 12.402344 19.789062 12.203125 C 19.914062 12.003906 20.011719 11.789062 20.085938 11.566406 C 20.15625 11.339844 20.199219 11.113281 20.210938 10.875 C 20.222656 10.640625 20.207031 10.410156 20.160156 10.179688 C 20.113281 9.949219 20.039062 9.726562 19.933594 9.515625 C 19.925781 9.496094 19.914062 9.480469 19.90625 9.464844 L 17.867188 6.261719 C 17.816406 6.183594 17.75 6.125 17.671875 6.078125 C 17.589844 6.035156 17.503906 6.011719 17.410156 6.011719 C 17.320312 6.011719 17.234375 6.035156 17.152344 6.078125 C 17.070312 6.125 17.007812 6.183594 16.957031 6.261719 L 14.917969 9.464844 C 14.90625 9.480469 14.898438 9.496094 14.890625 9.515625 C 14.785156 9.726562 14.710938 9.949219 14.664062 10.179688 C 14.617188 10.410156 14.597656 10.640625 14.613281 10.875 C 14.625 11.113281 14.667969 11.339844 14.738281 11.566406 C 14.808594 11.789062 14.910156 12.003906 15.035156 12.203125 C 15.160156 12.402344 15.308594 12.582031 15.484375 12.742188 C 15.65625 12.90625 15.84375 13.042969 16.054688 13.15625 C 16.261719 13.269531 16.480469 13.359375 16.710938 13.417969 C 16.941406 13.476562 17.171875 13.503906 17.410156 13.503906 Z M 15.84375 10.003906 L 17.410156 7.542969 L 18.976562 10.003906 C 19.039062 10.136719 19.082031 10.269531 19.109375 10.414062 C 19.136719 10.554688 19.144531 10.695312 19.136719 10.839844 C 19.125 10.984375 19.097656 11.125 19.054688 11.261719 C 19.007812 11.398438 18.945312 11.527344 18.867188 11.648438 C 18.789062 11.769531 18.699219 11.878906 18.59375 11.976562 C 18.484375 12.074219 18.371094 12.160156 18.242188 12.230469 C 18.113281 12.296875 17.980469 12.351562 17.839844 12.386719 C 17.699219 12.421875 17.554688 12.441406 17.410156 12.441406 C 17.265625 12.441406 17.125 12.421875 16.984375 12.386719 C 16.84375 12.351562 16.707031 12.296875 16.582031 12.230469 C 16.453125 12.160156 16.335938 12.074219 16.230469 11.976562 C 16.125 11.878906 16.03125 11.769531 15.953125 11.648438 C 15.875 11.527344 15.816406 11.398438 15.769531 11.261719 C 15.722656 11.125 15.695312 10.984375 15.6875 10.839844 C 15.679688 10.695312 15.6875 10.554688 15.714844 10.414062 C 15.738281 10.269531 15.785156 10.136719 15.84375 10.003906 Z M 15.84375 10.003906 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <g clipPath="url(#865d190d5b)">
                  <path
                    strokeLinecap="butt"
                    transform="matrix(0, 0.740132, -0.740132, 0, 37.001951, 13.993112)"
                    fill="none"
                    strokeLinejoin="miter"
                    d="M -0.00124863 0.498747 L 12.200974 0.498747 "
                    stroke="#000000"
                    strokeWidth="1"
                    strokeOpacity="1"
                    strokeMiterlimit="4"
                  />
                </g>
              </svg>
              <h3 className="underline font-bold">Hygiene</h3>
            </div>

            {tasks.Hygiene.map((task) => (
              <li
                key={task._id}
                className="flex flex-row gap-2 items-center mt-3"
              >
                <p
                  className={
                    intervalColors[task.template.repeatInterval] +
                    " py-1 px-2 shadow-md rounded text-sm"
                  }
                >
                  {task.template.repeatInterval}
                </p>
                <p className={task.isCompleted ? "text-gray-600" : ""}>
                  {task.template.text}
                </p>
                {task.isCompleted && (
                  <svg
                    className="h-5"
                    xmlns="http://www.w3.org/2000/svg"
                    x="0px"
                    y="0px"
                    viewBox="0 0 48 48"
                  >
                    <path
                      fill="#43A047"
                      d="M40.6 12.1L17 35.7 7.4 26.1 4.6 29 17 41.3 43.4 14.9z"
                    ></path>
                  </svg>
                )}
              </li>
            ))}
          </ul>
        )}
        {tasks.Exercise.length > 0 && (
          <ul id="Exercise" className="bg-white p-5 rounded-lg shadow-lg ">
            <div className="flex flex-row items-center gap-1 justify-start">
              <svg
                className="h-5"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                width="50"
                zoomAndPan="magnify"
                viewBox="0 0 37.5 37.499999"
                height="50"
                preserveAspectRatio="xMidYMid meet"
                version="1.0"
              >
                <path
                  fill="#000000"
                  d="M 33.085938 5.878906 C 33.011719 5.761719 32.960938 5.640625 32.9375 5.503906 C 32.914062 5.371094 32.917969 5.234375 32.949219 5.101562 C 32.980469 4.96875 33.039062 4.847656 33.121094 4.738281 C 33.203125 4.628906 33.304688 4.539062 33.421875 4.472656 C 33.929688 4.207031 34.382812 3.988281 34.558594 4.140625 C 35.394531 4.910156 35.996094 5.835938 36.355469 6.914062 C 36.429688 7.128906 36.078125 7.511719 35.671875 7.933594 C 35.582031 8.027344 35.476562 8.09375 35.355469 8.140625 C 35.234375 8.183594 35.109375 8.199219 34.980469 8.1875 C 34.851562 8.175781 34.730469 8.132812 34.621094 8.066406 C 34.511719 7.996094 34.425781 7.90625 34.355469 7.796875 Z M 2.886719 30.160156 C 2.8125 30.042969 2.71875 29.949219 2.597656 29.882812 C 2.480469 29.8125 2.351562 29.773438 2.214844 29.769531 C 2.078125 29.761719 1.949219 29.789062 1.824219 29.84375 C 1.699219 29.902344 1.59375 29.984375 1.511719 30.09375 C 1.175781 30.511719 0.90625 30.882812 0.984375 31.089844 C 1.40625 32.136719 2.039062 33.03125 2.882812 33.78125 C 3.015625 33.902344 3.402344 33.691406 3.839844 33.429688 C 3.949219 33.359375 4.042969 33.269531 4.121094 33.160156 C 4.195312 33.050781 4.246094 32.929688 4.273438 32.800781 C 4.300781 32.671875 4.304688 32.542969 4.277344 32.410156 C 4.253906 32.28125 4.207031 32.160156 4.132812 32.046875 Z M 7.710938 27.445312 C 6.800781 26.074219 5.894531 24.699219 4.984375 23.328125 C 3.457031 21.011719 3.457031 21.011719 1.359375 22.679688 C 0.132812 23.65625 0.0273438 24.261719 0.898438 25.582031 C 2.664062 28.265625 4.480469 30.90625 6.195312 33.625 C 8.246094 36.871094 8.390625 36.320312 11.015625 34.308594 C 11.65625 33.816406 11.675781 33.390625 11.210938 32.722656 C 10.015625 30.988281 8.875 29.210938 7.710938 27.449219 Z M 36.097656 11.796875 C 34.355469 9.144531 32.5625 6.527344 30.859375 3.84375 C 28.847656 0.671875 28.691406 1.105469 26.015625 3.195312 C 25.886719 3.265625 25.777344 3.363281 25.691406 3.484375 C 25.605469 3.605469 25.550781 3.742188 25.53125 3.890625 C 25.511719 4.039062 25.527344 4.183594 25.574219 4.324219 C 25.625 4.464844 25.707031 4.585938 25.8125 4.6875 C 27.0625 6.496094 28.253906 8.351562 29.46875 10.1875 L 32.128906 14.210938 C 33.609375 16.449219 33.609375 16.449219 35.679688 14.8125 C 36.957031 13.800781 37.046875 13.238281 36.097656 11.796875 Z M 12.902344 23.792969 C 11.457031 21.605469 10.011719 19.421875 8.566406 17.234375 C 6.757812 14.503906 6.757812 14.503906 4.21875 16.480469 C 2.769531 17.609375 2.699219 18.054688 3.746094 19.644531 C 6.75 24.195312 9.757812 28.742188 12.769531 33.289062 C 14.726562 36.25 14.765625 36.253906 17.484375 34.019531 C 18.59375 33.109375 18.679688 32.550781 17.863281 31.304688 C 16.21875 28.796875 14.566406 26.292969 12.902344 23.792969 Z M 28.640625 10.644531 C 27.195312 8.457031 25.75 6.273438 24.304688 4.089844 C 22.53125 1.414062 22.53125 1.414062 20.046875 3.347656 C 18.511719 4.546875 18.460938 4.882812 19.59375 6.59375 C 22.597656 11.144531 25.605469 15.691406 28.617188 20.234375 C 30.515625 23.105469 30.515625 23.105469 33.132812 21.035156 C 34.410156 20.023438 34.5 19.519531 33.601562 18.15625 C 31.957031 15.648438 30.300781 13.144531 28.640625 10.644531 Z M 22.953125 13.8125 C 22.878906 13.691406 22.78125 13.59375 22.664062 13.511719 C 22.546875 13.433594 22.417969 13.378906 22.28125 13.355469 C 22.140625 13.332031 22.003906 13.335938 21.867188 13.367188 C 21.730469 13.402344 21.605469 13.460938 21.492188 13.550781 L 13.078125 20.058594 C 12.84375 20.253906 12.703125 20.5 12.65625 20.800781 C 12.609375 21.101562 12.671875 21.378906 12.835938 21.632812 L 13.871094 23.195312 C 13.945312 23.316406 14.039062 23.417969 14.15625 23.496094 C 14.273438 23.574219 14.402344 23.628906 14.539062 23.652344 C 14.679688 23.679688 14.816406 23.675781 14.957031 23.640625 C 15.09375 23.605469 15.21875 23.546875 15.328125 23.457031 L 23.742188 16.949219 C 23.976562 16.753906 24.121094 16.507812 24.164062 16.207031 C 24.210938 15.90625 24.152344 15.628906 23.984375 15.375 Z M 22.953125 13.8125 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
              </svg>
              <h3 className="underline font-bold">Exercise</h3>
            </div>

            {tasks.Exercise.map((task) => (
              <li
                key={task._id}
                className="flex flex-row gap-2 items-center mt-3"
              >
                <p
                  className={
                    intervalColors[task.template.repeatInterval] +
                    " py-1 px-2 shadow-md rounded text-sm"
                  }
                >
                  {task.template.repeatInterval}
                </p>
                <p className={task.isCompleted ? "text-gray-600" : ""}>
                  {task.template.text}
                </p>
                {task.isCompleted && (
                  <svg
                    className="h-5"
                    xmlns="http://www.w3.org/2000/svg"
                    x="0px"
                    y="0px"
                    viewBox="0 0 48 48"
                  >
                    <path
                      fill="#43A047"
                      d="M40.6 12.1L17 35.7 7.4 26.1 4.6 29 17 41.3 43.4 14.9z"
                    ></path>
                  </svg>
                )}
              </li>
            ))}
          </ul>
        )}
        {tasks.Additional.length > 0 && (
          <ul id="Additional" className="bg-white p-5 rounded-lg shadow-lg ">
            <div className="flex flex-row items-center gap-1 justify-start">
              <svg
                className="h-5"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                width="50"
                zoomAndPan="magnify"
                viewBox="0 0 37.5 37.499999"
                height="50"
                preserveAspectRatio="xMidYMid meet"
                version="1.0"
              >
                <defs>
                  <clipPath id="15523dacc0">
                    <path
                      d="M 17 20 L 34.878906 20 L 34.878906 37.007812 L 17 37.007812 Z M 17 20 "
                      clipRule="nonzero"
                    />
                  </clipPath>
                  <clipPath id="26af5e09b5">
                    <path
                      d="M 2.3125 0 L 31 0 L 31 37.007812 L 2.3125 37.007812 Z M 2.3125 0 "
                      clipRule="nonzero"
                    />
                  </clipPath>
                </defs>
                <g clipPath="url(#15523dacc0)">
                  <path
                    fill="#000000"
                    d="M 26.347656 20.046875 C 21.648438 20.046875 17.820312 23.847656 17.820312 28.527344 C 17.820312 33.203125 21.648438 37.007812 26.347656 37.007812 C 31.050781 37.007812 34.878906 33.203125 34.878906 28.527344 C 34.878906 23.847656 31.050781 20.046875 26.347656 20.046875 Z M 26.347656 35.464844 C 22.503906 35.464844 19.371094 32.351562 19.371094 28.527344 C 19.371094 24.699219 22.503906 21.585938 26.347656 21.585938 C 30.195312 21.585938 33.328125 24.699219 33.328125 28.527344 C 33.328125 32.351562 30.195312 35.464844 26.347656 35.464844 Z M 26.347656 35.464844 "
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                </g>
                <path
                  fill="#000000"
                  d="M 29.449219 27.753906 L 27.125 27.753906 L 27.125 25.441406 C 27.125 25.015625 26.777344 24.671875 26.347656 24.671875 C 25.921875 24.671875 25.574219 25.015625 25.574219 25.441406 L 25.574219 27.753906 L 23.25 27.753906 C 22.820312 27.753906 22.472656 28.101562 22.472656 28.527344 C 22.472656 28.953125 22.820312 29.296875 23.25 29.296875 L 25.574219 29.296875 L 25.574219 31.609375 C 25.574219 32.035156 25.921875 32.378906 26.347656 32.378906 C 26.777344 32.378906 27.125 32.035156 27.125 31.609375 L 27.125 29.296875 L 29.449219 29.296875 C 29.878906 29.296875 30.226562 28.953125 30.226562 28.527344 C 30.226562 28.101562 29.878906 27.753906 29.449219 27.753906 Z M 29.449219 27.753906 "
                  fillOpacity="1"
                  fillRule="nonzero"
                />
                <g clipPath="url(#26af5e09b5)">
                  <path
                    fill="#000000"
                    d="M 19.371094 35.464844 L 4.640625 35.464844 C 4.210938 35.464844 3.863281 35.121094 3.863281 34.695312 L 3.863281 5.398438 C 3.863281 4.972656 4.210938 4.625 4.640625 4.625 L 8.515625 4.625 L 8.515625 5.398438 C 8.515625 5.824219 8.863281 6.167969 9.292969 6.167969 L 23.25 6.167969 C 23.675781 6.167969 24.023438 5.824219 24.023438 5.398438 L 24.023438 4.625 L 27.898438 4.625 C 28.328125 4.625 28.675781 4.972656 28.675781 5.398438 L 28.675781 17.730469 C 28.675781 18.15625 29.023438 18.503906 29.449219 18.503906 C 29.878906 18.503906 30.226562 18.15625 30.226562 17.730469 L 30.226562 5.398438 C 30.226562 4.121094 29.183594 3.082031 27.898438 3.082031 L 23.878906 3.082031 C 23.558594 2.1875 22.707031 1.542969 21.699219 1.542969 L 18.945312 1.542969 C 18.398438 0.601562 17.382812 0 16.269531 0 C 15.15625 0 14.140625 0.601562 13.59375 1.542969 L 10.84375 1.542969 C 9.832031 1.542969 8.980469 2.1875 8.660156 3.082031 L 4.640625 3.082031 C 3.355469 3.082031 2.3125 4.121094 2.3125 5.398438 L 2.3125 34.695312 C 2.3125 35.96875 3.355469 37.007812 4.640625 37.007812 L 19.371094 37.007812 C 19.800781 37.007812 20.148438 36.660156 20.148438 36.234375 C 20.148438 35.808594 19.800781 35.464844 19.371094 35.464844 Z M 10.84375 3.082031 L 14.082031 3.082031 C 14.410156 3.082031 14.703125 2.878906 14.8125 2.570312 C 15.035156 1.957031 15.621094 1.542969 16.269531 1.542969 C 16.917969 1.542969 17.5 1.957031 17.722656 2.570312 C 17.832031 2.878906 18.125 3.082031 18.453125 3.082031 L 21.699219 3.082031 C 22.125 3.082031 22.472656 3.429688 22.472656 3.855469 L 22.472656 4.625 L 10.066406 4.625 L 10.066406 3.855469 C 10.066406 3.429688 10.414062 3.082031 10.84375 3.082031 Z M 10.84375 3.082031 "
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                </g>
                <path
                  strokeLinecap="butt"
                  transform="matrix(0.740132, -0.000000000000000092, 0.000000000000000092, 0.740132, 12.673701, 5.106908)"
                  fill="none"
                  strokeLinejoin="miter"
                  d="M -0.00246759 0.499445 L 14.078644 0.499445 "
                  stroke="#000000"
                  strokeWidth="1"
                  strokeOpacity="1"
                  strokeMiterlimit="4"
                />
              </svg>
              <h3 className="underline font-bold">Additional</h3>
            </div>

            {tasks.Additional.map((task) => (
              <li
                key={task._id}
                className="flex flex-row gap-2 items-center mt-3"
              >
                <p
                  className={
                    intervalColors[task.template.repeatInterval] +
                    " py-1 px-2 shadow-md rounded text-sm"
                  }
                >
                  {task.template.repeatInterval}
                </p>
                <p className={task.isCompleted ? "text-gray-600" : ""}>
                  {task.template.text}
                </p>
                {task.isCompleted && (
                  <svg
                    className="h-5"
                    xmlns="http://www.w3.org/2000/svg"
                    x="0px"
                    y="0px"
                    viewBox="0 0 48 48"
                  >
                    <path
                      fill="#43A047"
                      d="M40.6 12.1L17 35.7 7.4 26.1 4.6 29 17 41.3 43.4 14.9z"
                    ></path>
                  </svg>
                )}
              </li>
            ))}
          </ul>
        )}
      </div>
      <div>
        <PatientComments patient_id={patient_id} isoDate={isoDate} />
      </div>
    </div>
  );
}
